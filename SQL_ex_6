CREATE TABLE MEAL (
  NAME VARCHAR(255),
  PRICE DOUBLE,
  CALORIES INT
 );

INSERT INTO MEAL(NAME, PRICE, CALORIES)
VALUES('spaghetti bolognese', 16.00, 700);

INSERT INTO MEAL(NAME, PRICE, CALORIES)
VALUES('grilled chicken sandwich', 14.50, 600);

INSERT INTO MEAL(NAME, PRICE, CALORIES)
VALUES('pesto pasta', 15.50, 500);

INSERT INTO MEAL(NAME, PRICE, CALORIES)
VALUES('vegetable stir fry', 13.00, 400);

INSERT INTO MEAL(NAME, PRICE, CALORIES)
VALUES('taco salad', 12.80, 550);


CREATE TABLE MEAL_ORDER (
  TIME_MEAL_ORDERED TIMESTAMP DEFAULT NOW(),
  MEAL_NAME VARCHAR(255)
);

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME)
    VALUES (NOW(), 'Spaghetti Bolognese');

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME)
    VALUES (DATE_ADD(NOW(), INTERVAL 1 HOUR), 'Grilled Chicken Sandwich');

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME)
    VALUES (DATE_ADD(NOW(), INTERVAL 2 HOUR), 'Pesto Pasta');

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME)
    VALUES (DATE_ADD(NOW(), INTERVAL 3 HOUR), 'Pesto Pasta');

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME)
    VALUES (DATE_ADD(NOW(), INTERVAL 4 HOUR), 'Grilled Chicken Sandwich');

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME)
    VALUES (DATE_ADD(NOW(), INTERVAL 5 HOUR), 'Pesto Pasta');

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME)
    VALUES (DATE_ADD(NOW(), INTERVAL 6 HOUR), 'Spaghetti Bolognese');

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME)
    VALUES (DATE_ADD(NOW(), INTERVAL 7 HOUR), 'Pesta Pasta');

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME)
    VALUES (DATE_ADD(NOW(), INTERVAL 8 HOUR), 'Pesto Pasta');

    INSERT INTO MEAL_ORDER (TIME_MEAL_ORDERED, MEAL_NAME)
    VALUES (DATE_ADD(NOW(), INTERVAL 9 HOUR), 'Spaghetti Bolognese');

CREATE VIEW MEAL_ORDER_WITH_DETAILS AS
    SELECT MO.*, M.PRICE, M.CALORIES FROM MEAL_ORDER MO, MEAL M
    WHERE MO.MEAL_NAME = M.NAME;

    -- output

    SELECT COUNT(*) AS EX1
    FROM MEAL_ORDER_WITH_DETAILS
    GROUP BY MEAL_NAME;

    SELECT SUM(PRICE) AS EX2
    FROM MEAL_ORDER_WITH_DETAILS
    WHERE PRICE > 15.00;

    SELECT COUNT(*) AS EX3
    FROM MEAL_ORDER_WITH_DETAILS
    WHERE CALORIES > 500
    GROUP BY CALORIES;

    SELECT SUM(PRICE) AS EX4
    FROM MEAL_ORDER_WITH_DETAILS
    WHERE LOWER(MEAL_NAME) LIKE '%s%';

    SELECT COUNT(*) AS EX7
    FROM MEAL_ORDER_WITH_DETAILS
    WHERE TIME_MEAL_ORDERED < '2023-05-18 18:00:00'
    GROUP BY MEAL_NAME;